<div class="register-container">
  <h2>Membership Registration</h2>

  <div class="photo-section">
    <img [src]="imagePreview || 'https://yaduvanshisangathan.cloud/uploads/membership/default.png'" alt="Profile"
      class="photo-preview" />
    <input type="file" (change)="onFileSelected($event)" accept="image/*" />
  </div>

  <form (ngSubmit)="register()" #regForm="ngForm" novalidate>
    <div class="form-grid">
      <div>
        <label>Title *</label>
        <select [(ngModel)]="user.title" name="title" required>
          <option value="" disabled selected>Select Title</option>
          <option>Mr</option>
          <option>Mrs</option>
          <option>Ms</option>
        </select>
      </div>

      <div>
        <label>Full Name *</label>
        <input type="text" [(ngModel)]="user.fullName" name="fullName" required placeholder="Enter your name" />
      </div>

      <div>
        <label>Gender *</label>
        <div class="gender-group">
          <label>
            <input type="radio" name="gender" [(ngModel)]="user.gender" value="Male" required />
            Male
          </label>
          <label>
            <input type="radio" name="gender" [(ngModel)]="user.gender" value="Female" />
            Female
          </label>
          <label>
            <input type="radio" name="gender" [(ngModel)]="user.gender" value="Other" />
            Other
          </label>
        </div>
      </div>

      <div>
        <label>Email ID</label>
        <input type="email" [(ngModel)]="user.email" name="email" />
      </div>

  <div>
    <label>Mobile Number *</label>
    <input type="text" name="phone" [(ngModel)]="user.phone" required maxlength="10" #phone="ngModel"
      pattern="^[0-9]{10}$" placeholder="10-digit number" />
    <small *ngIf="phone.invalid && regForm.submitted" class="error">
      Enter a valid 10-digit mobile number.
    </small>
  </div>


      <div>
        <label>Date of Birth *</label>
        <input type="date" [(ngModel)]="user.dob" name="dob" required />
      </div>

      <div>
        <label>Address</label>
        <input type="text" [(ngModel)]="user.address" name="address" />
      </div>

      <div>
        <label>Pincode</label>
        <input type="text" [(ngModel)]="user.pincode" name="pincode" maxlength="6" />
      </div>

      <div>
        <label>District *</label>
        <input type="text" [(ngModel)]="user.district" name="district" required />
      </div>

      <div>
        <label>State *</label>
        <input type="text" [(ngModel)]="user.state" name="state" required />
      </div>

      <div>
        <label>Assembly Constituency (AC)</label>
        <input type="text" [(ngModel)]="user.assemblyConstituency" name="assemblyConstituency" />
      </div>

      <div>
        <label>Referral (if any)</label>
        <input type="text" [(ngModel)]="user.referralPhone" name="referralPhone" />
      </div>

      <div>
        <label>Referred By</label>
        <input type="text" [(ngModel)]="user.referredBy" name="referredBy" />
      </div>

      <!-- <div class="checkbox">
        <input type="checkbox" [(ngModel)]="user.pledgeAccepted" name="pledgeAccepted" />
        <span>I pledge and am willing to receive regular updates.</span>
      </div> -->
<div>
  <label>Membership Plan</label>
  <select [(ngModel)]="user.membershipPlan" name="membershipPlan" required>
    <option value="" disabled selected>Select a plan</option>
    <option *ngFor="let plan of membershipPlans" [value]="plan.value">
      {{ plan.label }} - â‚¹{{ plan.amount }}
    </option>
  </select>
</div>

    </div>

    <button type="submit" class="save-btn">Register & Proceed to Payment</button>
  </form>
</div>
